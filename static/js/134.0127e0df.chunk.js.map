{"version":3,"file":"static/js/134.0127e0df.chunk.js","mappings":"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","sources":["components/MovieList-component/MovieList.styled.js","components/MovieList-component/MovieList.jsx","pages/Movies.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ListOfCommonMovies = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 48px;\n`;\n\nexport const MovieItem = styled.li`\n  flex-basis: calc((100% - 96px) / 3);\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { ListOfCommonMovies, MovieItem } from './MovieList.styled';\n\nexport const MovieList = ({ movies }) => {\n  const location = useLocation();\n  const imageStart = 'https://image.tmdb.org/t/p/w500';\n\n  return (\n    <ListOfCommonMovies>\n      {movies.map(({ id, poster_path, title }) => (\n        <MovieItem key={id}>\n          <Link\n            to={location.pathname === '/' ? `movies/${id}` : `${id}`}\n            state={{ from: location }}\n          >\n            <img\n              src={\n                poster_path\n                  ? imageStart + poster_path\n                  : 'https://diekos.by/public/images/nophoto.jpg?v=1.0.6'\n              }\n              alt={title}\n              width=\"350\"\n            />\n            <h3>{title}</h3>\n          </Link>\n        </MovieItem>\n      ))}\n    </ListOfCommonMovies>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieByRequest } from 'services/api';\nimport { Loader } from 'components/Loader-component/Loader';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { MovieList } from 'components/MovieList-component/MovieList';\n\nconst Movies = () => {\n  const [listOfFilms, setListOfFilms] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const updateQueryString = event => {\n    const request = event.target.value;\n\n    if (request === '') {\n      return setSearchParams({});\n    }\n  };\n\n  const onFormSubmit = event => {\n    event.preventDefault();\n    const request = event.target.elements.searchFilms.value;\n\n    if (request === '') {\n      toast.error('Enter data in the field to search for movies', {\n        duration: 2500,\n        position: 'top-right',\n      });\n      return setSearchParams({});\n    }\n\n    setSearchParams({ query: request });\n  };\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n\n    const getMovieByRequest = async () => {\n      try {\n        setIsLoading(true);\n        setError(false);\n        const movie = await fetchMovieByRequest(query);\n        setListOfFilms(movie);\n      } catch (error) {\n        setError(true);\n        toast.error('Oops, Something went wrong! Try reloading the page!', {\n          duration: 3500,\n          position: 'top-right',\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getMovieByRequest();\n  }, [query]);\n\n  return (\n    <div>\n      <h3>Movies page</h3>\n      <form onSubmit={onFormSubmit}>\n        <input\n          type=\"text\"\n          name=\"searchFilms\"\n          defaultValue={query}\n          onChange={updateQueryString}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {isLoading && <Loader />}\n      {!isLoading && !error && <MovieList movies={listOfFilms} />}\n      <Toaster />\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst KEY = '58dce637b823f2c00548f4a3a78afc72';\n\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get(`trending/movie/day?api_key=${KEY}`);\n  return response.data.results;\n};\n\nexport const fetchMovieById = async movieId => {\n  const response = await axios.get(`movie/${movieId}?api_key=${KEY}`);\n  return response.data;\n};\n\nexport const fetchReviewsOnMovie = async movieId => {\n  const response = await axios.get(`movie/${movieId}/reviews?api_key=${KEY}`);\n  return response.data.results;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(`movie/${movieId}/credits?api_key=${KEY}`);\n  return response.data.cast;\n};\n\nexport const fetchMovieByRequest = async request => {\n  const response = await axios.get(`search/movie?api_key=${KEY}&query=${request}\n`);\n  return response.data.results;\n};\n"],"names":["ListOfCommonMovies","styled","_templateObject","_taggedTemplateLiteral","MovieItem","_templateObject2","MovieList","_ref","movies","location","useLocation","_jsx","children","map","_ref2","id","poster_path","title","_jsxs","Link","to","pathname","concat","state","from","src","alt","width","_searchParams$get","_useState","useState","_useState2","_slicedToArray","listOfFilms","setListOfFilms","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","useEffect","getMovieByRequest","_asyncToGenerator","_regeneratorRuntime","_callee","movie","_context","prev","next","fetchMovieByRequest","sent","t0","toast","duration","position","finish","stop","apply","arguments","onSubmit","event","preventDefault","request","target","elements","searchFilms","value","type","name","defaultValue","onChange","Loader","Toaster","axios","KEY","fetchTrendingMovies","response","abrupt","data","results","fetchMovieById","_callee2","movieId","_context2","_x","fetchReviewsOnMovie","_ref3","_callee3","_context3","_x2","fetchMovieCast","_ref4","_callee4","_context4","cast","_x3","_ref5","_callee5","_context5","_x4"],"sourceRoot":""}